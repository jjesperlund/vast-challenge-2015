% OBS: Varibler i detta script ber?knas i andra filer

IDs_and_coordinates_fri = importdata('Friday/checkins/IDs_and_checkin_coordinates_sorted_by_ID_f.mat');
IDs_and_coordinates_sat = importdata('Saturday/checkins/data_checkin_xy_sorted_sat.mat');
IDs_and_coordinates_sun = importdata('Sunday/checkins/IDs_and_checkin_coordinates_sorted_sun.mat');

%% Friday Checkins
clear latebirds_coordinates
clear i_fri
clear c_fri

i_fri = find(IDs_and_coordinates_fri(:,1) == late_birds_fri(1));
c_fri = IDs_and_coordinates_fri(i_fri, 2:3);
latebirds_coordinates(1:length(c_fri),:) = c_fri;

for i = 2:length(late_birds_fri)
    i_fri = find(IDs_and_coordinates_fri(:,1) == late_birds_fri(i));
    c_fri = IDs_and_coordinates_fri(i_fri, 2:3);
    
    %park_lovers_coordinates = [park_lovers_coordinates ; c_fri];
    latebirds_coordinates(end+1:end+length(c_fri), :) = c_fri;
end

maxX = max(latebirds_coordinates(:,1));
maxY = max(latebirds_coordinates(:,2));

histogram2(latebirds_coordinates(:,1), latebirds_coordinates(:,2), 30,'DisplayStyle','tile','ShowEmptyBins','on', ...
    'XBinLimits',[0 maxX],'YBinLimits',[0 maxY]);
set(gca, 'FontSize', 15)
colormap parula
h = colorbar;
ylabel(h, 'Number of Checkins')
hold on
scatter(parsed_data_saturday.xCoordinates,parsed_data_saturday.yCoordinates,15)
grid off
axis equal
xlabel('x-coordinate')
ylabel('y-coordinate')
zlabel('checkins')
title('Late Birds: Check-in Histogram (Friday)')

%% Saturday Checkins
clear latebirds_coordinates
clear i_fri
clear c_fri

i_fri = find(IDs_and_coordinates_sat(:,1) == late_birds_sat(1));
c_fri = IDs_and_coordinates_sat(i_fri, 2:3);
latebirds_coordinates(1:length(c_fri),:) = c_fri;

for i = 2:length(late_birds_sat)
    i_fri = find(IDs_and_coordinates_sat(:,1) == late_birds_sat(i));
    c_fri = IDs_and_coordinates_sat(i_fri, 2:3);
    
    %park_lovers_coordinates = [park_lovers_coordinates ; c_fri];
    latebirds_coordinates(end+1:end+length(c_fri), :) = c_fri;
end

maxX = max(latebirds_coordinates(:,1));
maxY = max(latebirds_coordinates(:,2));

histogram2(latebirds_coordinates(:,1), latebirds_coordinates(:,2), 30,'DisplayStyle','tile','ShowEmptyBins','on', ...
    'XBinLimits',[0 maxX],'YBinLimits',[0 maxY]);
set(gca, 'FontSize', 15)
colormap parula
h = colorbar;
ylabel(h, 'Number of Checkins')
hold on
scatter(parsed_data_saturday.xCoordinates,parsed_data_saturday.yCoordinates,15)
grid off
axis equal
xlabel('x-coordinate')
ylabel('y-coordinate')
zlabel('checkins')
title('Late Birds: Check-in Histogram (Saturday)')

%% Sunday Checkins
clear latebirds_coordinates
clear i_fri
clear c_fri

i_fri = find(IDs_and_coordinates_sun(:,1) == late_birds_sun(1));
c_fri = IDs_and_coordinates_sun(i_fri, 2:3);
latebirds_coordinates(1:length(c_fri),:) = c_fri;

for i = 2:length(late_birds_sun)
    i_fri = find(IDs_and_coordinates_sun(:,1) == late_birds_sun(i));
    c_fri = IDs_and_coordinates_sun(i_fri, 2:3);
    
    %park_lovers_coordinates = [park_lovers_coordinates ; c_fri];
    latebirds_coordinates(end+1:end+length(c_fri), :) = c_fri;
end

maxX = max(latebirds_coordinates(:,1));
maxY = max(latebirds_coordinates(:,2));

histogram2(latebirds_coordinates(:,1), latebirds_coordinates(:,2), 30,'DisplayStyle','tile','ShowEmptyBins','on', ...
    'XBinLimits',[0 maxX],'YBinLimits',[0 maxY]);
set(gca, 'FontSize', 15)
colormap parula
h = colorbar;
ylabel(h, 'Number of Checkins')
hold on
scatter(parsed_data_saturday.xCoordinates,parsed_data_saturday.yCoordinates,15)
grid off
axis equal
xlabel('x-coordinate')
ylabel('y-coordinate')
zlabel('checkins')
title('Late Birds: Check-in Histogram (Sunday)')

%% Checkins over hours (friday)

clear latebirds_timestamps_fri
clear i_fri
clear c_fri
clear i_fri_checkins

%i_fri_checkins = find(parsed_data_friday.id == park_lovers_checkins(1,1));
%i_fri = find(parsed_data_friday.type(i_fri_checkins) == 'check-in');
%c_fri = parsed_data_friday.timestamp(i_fri);
c_fri = parsed_data_friday.timestamp(parsed_data_friday.id == park_lovers_checkins(1,1));
park_lovers_timestamps_fri(1:length(c_fri),:) = c_fri;

for i = 2:length(park_lovers_checkins)
    %i_fri_checkins = find(parsed_data_friday.id == park_lovers_checkins(i,1));
    %i_fri = find(parsed_data_friday.type(i_fri_checkins) == 'check-in');
    %c_fri = parsed_data_friday.timestamp(i_fri);
    c_fri = parsed_data_friday.timestamp(parsed_data_friday.id == park_lovers_checkins(i,1));
    
    %park_lovers_coordinates = [park_lovers_coordinates ; c_fri];
    park_lovers_timestamps_fri(end+1:end+length(c_fri), :) = c_fri;
end